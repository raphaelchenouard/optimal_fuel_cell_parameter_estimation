# Optimal parameter extraction of fuel cells based on interval branch-and-bound optimization algorithm

## Studied PEFMC

- 250 W
- Nedstack PS6
- H-12
- Scribner 850e

## Required softwares

- Python >= 3.10:
  - numpy
  - matplotlib
  - plotly
- IBEX C++ library >= 2.8.x: https://github.com/ibex-team/ibex-lib

## Main structure of the source code:

- `data`: contains the json files describing the data relating to each FC
- `minibex`: contains the minibex to used used as inputs for Ibexopt
- `outputs`: contains the results generated by Ibexopt
- `scripts`:
  - `mbx_gen.py`: a basic script to generate mbx for from a JSON data file
  - `pemfc.py`: a class definition for PEM Fuel Cells that simulate I-V and PV curves.
  - `plot_conv.py`: a script to generate the convergence curves with varying precision from the results in the `ouputs` folder.
  - `plot_obj_evolution.py`: a script to generate the curves showing objective bounds evolution depending on time, from the results in the `ouputs` folder.

## Brief description of PEFMC modeling

Implemented in `scripts\pemfc.py`

### Main known data

- $N$: number of experimental data
- $Vm$: $N$ voltage experimental values
- $Im$: $N$ current experimental values

- Specific characteristics of the PEFMC: $A, J_{max}, l, N_s$
- Specific characteristics of the experimental scenario: $T, P_{O_2}, P_{H_2}$

### Main variables

- Unknown parameters to determine: $\xi_1, \xi_2, \xi_3, \xi_4, \lambda, R_C, \beta$
- Computed voltage $V_i$ for each experimental data point

### Objective function

- Sum of squared error

$$SSE = \sum_{i=1}^N (Vm_i - V_i)^2$$


- Maximal absolute error

$$MAE = max(||V_m - V||_{\infty}) = max(\{|Vm - V|\})$$

## How use Ibexopt

Until IBEX library is installed, the Ibexopt executable should be available in the comand path. Then you just have to run the following command in a terminal:

```bash
ibexopt minibex/pemfc_250W_sse.mbx --trace -a1e-8 -r1e-5
```

This command runs Ibexopt on the model correponding the FC 250W with SSE objective function. It is configured with an absolute precision of $10^{-8}$ and a relative precision of $10^{-5}$ on the objective function to stop the solving.
